<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="627px" preserveAspectRatio="none" style="width:806px;height:627px;" version="1.1" viewBox="0 0 806 627" width="806px" zoomAndPan="magnify"><defs/><g><g><title>User</title><rect fill="#000000" fill-opacity="0.00000" height="472.2891" width="8" x="16.5361" y="77.8047"/><line style="stroke:#FF8800;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="20" x2="20" y1="77.8047" y2="550.0938"/></g><g><title>Client</title><rect fill="#000000" fill-opacity="0.00000" height="472.2891" width="8" x="106.5357" y="77.8047"/><line style="stroke:#FF8800;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="109.6131" x2="109.6131" y1="77.8047" y2="550.0938"/></g><g><title>Resource Server</title><rect fill="#000000" fill-opacity="0.00000" height="472.2891" width="8" x="306.7498" y="77.8047"/><line style="stroke:#FF8800;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="310.3748" x2="310.3748" y1="77.8047" y2="550.0938"/></g><g><title>Redis</title><rect fill="#000000" fill-opacity="0.00000" height="472.2891" width="8" x="482.3318" y="77.8047"/><line style="stroke:#FF8800;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="486.2418" x2="486.2418" y1="77.8047" y2="550.0938"/></g><g><title>Auth Server</title><rect fill="#000000" fill-opacity="0.00000" height="472.2891" width="8" x="667.0345" y="77.8047"/><line style="stroke:#FF8800;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="670.3595" x2="670.3595" y1="77.8047" y2="550.0938"/></g><g class="participant participant-head" data-participant="user"><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="25.0723" x="5" y="75.2104">User</text><ellipse cx="20.5361" cy="13.5" fill="#FF8800" rx="8" ry="8" style="stroke:#BB6600;stroke-width:0.5;"/><path d="M20.5361,21.5 L20.5361,48.5 M7.5361,29.5 L33.5361,29.5 M20.5361,48.5 L7.5361,63.5 M20.5361,48.5 L33.5361,63.5" fill="none" style="stroke:#BB6600;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="user"><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="25.0723" x="5" y="559.3042">User</text><ellipse cx="20.5361" cy="570.3984" fill="#FF8800" rx="8" ry="8" style="stroke:#BB6600;stroke-width:0.5;"/><path d="M20.5361,578.3984 L20.5361,605.3984 M7.5361,586.3984 L33.5361,586.3984 M20.5361,605.3984 L7.5361,620.3984 M20.5361,605.3984 L33.5361,620.3984" fill="none" style="stroke:#BB6600;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="client"><rect fill="#CCCCCC" height="26.8047" rx="2.5" ry="2.5" style="stroke:#AAAAAA;stroke-width:0.5;" width="45.8452" x="87.6131" y="50"/><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="31.8452" x="94.6131" y="67.2104">Client</text></g><g class="participant participant-tail" data-participant="client"><rect fill="#CCCCCC" height="26.8047" rx="2.5" ry="2.5" style="stroke:#AAAAAA;stroke-width:0.5;" width="45.8452" x="87.6131" y="549.0938"/><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="31.8452" x="94.6131" y="566.3042">Client</text></g><g class="participant participant-head" data-participant="resource"><rect fill="#CCCCCC" height="26.8047" rx="2.5" ry="2.5" style="stroke:#AAAAAA;stroke-width:0.5;" width="104.75" x="258.3748" y="50"/><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="90.75" x="265.3748" y="67.2104">Resource Server</text></g><g class="participant participant-tail" data-participant="resource"><rect fill="#CCCCCC" height="26.8047" rx="2.5" ry="2.5" style="stroke:#AAAAAA;stroke-width:0.5;" width="104.75" x="258.3748" y="549.0938"/><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="90.75" x="265.3748" y="566.3042">Resource Server</text></g><g class="participant participant-head" data-participant="redis"><rect fill="#CCCCCC" height="26.8047" rx="2.5" ry="2.5" style="stroke:#AAAAAA;stroke-width:0.5;" width="44.1802" x="464.2418" y="50"/><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="30.1802" x="471.2418" y="67.2104">Redis</text></g><g class="participant participant-tail" data-participant="redis"><rect fill="#CCCCCC" height="26.8047" rx="2.5" ry="2.5" style="stroke:#AAAAAA;stroke-width:0.5;" width="44.1802" x="464.2418" y="549.0938"/><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="30.1802" x="471.2418" y="566.3042">Redis</text></g><g class="participant participant-head" data-participant="auth"><rect fill="#CCCCCC" height="26.8047" rx="2.5" ry="2.5" style="stroke:#AAAAAA;stroke-width:0.5;" width="79.3501" x="631.3595" y="50"/><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="65.3501" x="638.3595" y="67.2104">Auth Server</text></g><g class="participant participant-tail" data-participant="auth"><rect fill="#CCCCCC" height="26.8047" rx="2.5" ry="2.5" style="stroke:#AAAAAA;stroke-width:0.5;" width="79.3501" x="631.3595" y="549.0938"/><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="65.3501" x="638.3595" y="566.3042">Auth Server</text></g><g class="message" data-participant-1="user" data-participant-2="client"><polygon fill="#000000" points="98.5357,102.6094,108.5357,106.6094,98.5357,110.6094,102.5357,106.6094" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="20.5361" x2="104.5357" y1="106.6094" y2="106.6094"/><text fill="#333333" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="65.9995" x="27.5361" y="102.0151">&#35831;&#27714;&#35775;&#38382;&#36164;&#28304;</text></g><g class="message" data-participant-1="client" data-participant-2="resource"><polygon fill="#000000" points="298.7498,129.4141,308.7498,133.4141,298.7498,137.4141,302.7498,133.4141" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="110.5357" x2="304.7498" y1="133.4141" y2="133.4141"/><text fill="#333333" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="121.2145" x="117.5357" y="128.8198">&#25658;&#24102;&#36807;&#26399; access_token</text></g><g class="message" data-participant-1="resource" data-participant-2="redis"><polygon fill="#000000" points="474.3318,169.0234,484.3318,173.0234,474.3318,177.0234,478.3318,173.0234" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="310.7498" x2="480.3318" y1="173.0234" y2="173.0234"/><text fill="#333333" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="65.9995" x="317.7498" y="155.6245">&#26816;&#26597;&#20196;&#29260;&#29366;&#24577;</text><text fill="#333333" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="151.582" x="317.7498" y="168.4292">(&#26159;&#21542;&#22312;&#40657;&#21517;&#21333;&#25110;&#32531;&#23384;&#20013;&#22833;&#25928;&#65311;)</text></g><g class="message" data-participant-1="redis" data-participant-2="resource"><polygon fill="#000000" points="321.7498,195.8281,311.7498,199.8281,321.7498,203.8281,317.7498,199.8281" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="315.7498" x2="485.3318" y1="199.8281" y2="199.8281"/><text fill="#333333" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="98.9993" x="327.7498" y="195.2339">&#36820;&#22238;&#12300;&#20196;&#29260;&#24050;&#22833;&#25928;&#12301;</text></g><g class="message" data-participant-1="resource" data-participant-2="client"><polygon fill="#000000" points="121.5357,235.4375,111.5357,239.4375,121.5357,243.4375,117.5357,239.4375" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="115.5357" x2="309.7498" y1="239.4375" y2="239.4375"/><text fill="#333333" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="98.3447" x="127.5357" y="222.0386">401 Unauthorized</text><text fill="#333333" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="85.5825" x="127.5357" y="234.8433">(&#20196;&#29260;&#36807;&#26399;&#25110;&#26080;&#25928;)</text></g><g class="message" data-participant-1="client" data-participant-2="auth"><polygon fill="#000000" points="659.0345,262.2422,669.0345,266.2422,659.0345,270.2422,663.0345,266.2422" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="110.5357" x2="665.0345" y1="266.2422" y2="266.2422"/><text fill="#333333" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="148.8003" x="117.5357" y="261.6479">&#29992; refresh_token &#35831;&#27714;&#26032;&#20196;&#29260;</text></g><g class="message" data-participant-1="auth" data-participant-2="auth"><line style="stroke:#000000;stroke-width:1;" x1="671.0345" x2="713.0345" y1="305.8516" y2="305.8516"/><line style="stroke:#000000;stroke-width:1;" x1="713.0345" x2="713.0345" y1="305.8516" y2="318.8516"/><line style="stroke:#000000;stroke-width:1;" x1="672.0345" x2="713.0345" y1="318.8516" y2="318.8516"/><polygon fill="#000000" points="682.0345,314.8516,672.0345,318.8516,682.0345,322.8516,678.0345,318.8516" style="stroke:#000000;stroke-width:1;"/><text fill="#333333" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="101.304" x="678.0345" y="288.4526">&#39564;&#35777; refresh_token</text><text fill="#333333" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="121.2145" x="678.0345" y="301.2573">&#24182;&#29983;&#25104;&#26032; access_token</text></g><g class="message" data-participant-1="auth" data-participant-2="redis"><polygon fill="#000000" points="497.3318,354.4609,487.3318,358.4609,497.3318,362.4609,493.3318,358.4609" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="491.3318" x2="670.0345" y1="358.4609" y2="358.4609"/><text fill="#333333" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="160.7027" x="503.3318" y="341.062">1. &#26087; access_token &#21152;&#20837;&#40657;&#21517;&#21333;</text><text fill="#333333" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="149.7027" x="503.3318" y="353.8667">2. &#32531;&#23384;&#26032; access_token &#29366;&#24577;</text></g><g class="message" data-participant-1="auth" data-participant-2="client"><polygon fill="#000000" points="121.5357,394.0703,111.5357,398.0703,121.5357,402.0703,117.5357,398.0703" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="115.5357" x2="670.0345" y1="398.0703" y2="398.0703"/><text fill="#333333" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="110.2146" x="127.5357" y="380.6714">&#36820;&#22238;&#26032; access_token</text><text fill="#333333" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="134.3038" x="127.5357" y="393.4761">&#65288;&#21487;&#36873;&#26032; refresh_token&#65289;</text></g><g class="message" data-participant-1="client" data-participant-2="resource"><polygon fill="#000000" points="298.7498,420.875,308.7498,424.875,298.7498,428.875,302.7498,424.875" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="110.5357" x2="304.7498" y1="424.875" y2="424.875"/><text fill="#333333" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="176.2142" x="117.5357" y="420.2808">&#37325;&#35797;&#35831;&#27714;&#65288;&#25658;&#24102;&#26032; access_token&#65289;</text></g><g class="message" data-participant-1="resource" data-participant-2="redis"><polygon fill="#000000" points="474.3318,447.6797,484.3318,451.6797,474.3318,455.6797,478.3318,451.6797" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="310.7498" x2="480.3318" y1="451.6797" y2="451.6797"/><text fill="#333333" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="87.9994" x="317.7498" y="447.0854">&#26816;&#26597;&#26032;&#20196;&#29260;&#26377;&#25928;&#24615;</text></g><g class="message" data-participant-1="redis" data-participant-2="resource"><polygon fill="#000000" points="321.7498,474.4844,311.7498,478.4844,321.7498,482.4844,317.7498,478.4844" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="315.7498" x2="485.3318" y1="478.4844" y2="478.4844"/><text fill="#333333" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="87.9994" x="327.7498" y="473.8901">&#36820;&#22238;&#12300;&#20196;&#29260;&#26377;&#25928;&#12301;</text></g><g class="message" data-participant-1="resource" data-participant-2="client"><polygon fill="#000000" points="121.5357,501.2891,111.5357,505.2891,121.5357,509.2891,117.5357,505.2891" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="115.5357" x2="309.7498" y1="505.2891" y2="505.2891"/><text fill="#333333" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="76.9995" x="127.5357" y="500.6948">&#36820;&#22238;&#21463;&#20445;&#25252;&#36164;&#28304;</text></g><g class="message" data-participant-1="client" data-participant-2="user"><polygon fill="#000000" points="31.5361,528.0938,21.5361,532.0938,31.5361,536.0938,27.5361,532.0938" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="25.5361" x2="109.5357" y1="532.0938" y2="532.0938"/><text fill="#333333" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="65.9995" x="37.5361" y="527.4995">&#26174;&#31034;&#35831;&#27714;&#32467;&#26524;</text></g><!--SRC=[ZLBDRjD04BxlKomzqKCgYZXnG49z0whU8g75NX8hwRfQEnmukGZK94fKeoPD949JYVH7IArR9DgIHEHXcbtRfxm2OwyJOejAdBpUxsTclfr7Tf5kKyofhdDgMRcoKIZQ9YUiG16oIWRR8PniupT4AnMuMM7wXbasERQ1OG54cOqGqK21jopACR5m1Ru88DlGZ1t2RBooKJQ0jnA1MdnCmw-ePLQuHl4cvUyeZtaykSioTSDAS3YbmPSLkxXiGU0VeQWRd7kH5CRFSU3TokiFmUKax5m6Fp_AeOiI35Zpii2Jxb3SdGQJFTdhOw9f4CvhsonHXXQaM01zHEnlZkoVJ4S3lzRmwpVIsSspnxBh2VTKzCx3qMVXDaMpBQk7_lX0N7IdTnTYS2tRrTculugKIoxTG31fYIz7zqv3kOhR7qfnxpINMbWUxTcJTRp5ehbDRhodEhIWj6eAA2uxn-2mkZHnn0Qftpg7sc_1jwYcJ7AIXrVA0iN4luBmUoFmTjEQF1E_RlmM5791bmvjBfy7jhw6PUSinS6YVYm-dIp2ohEdQrZ5bRN3AkF4DVMySMfPVfxDnbMnxuLEBO9INS_6jNzlGBZN3BosoW7aQY6opf7wuOLOn2TxDGXUEcV_zTQA_V13AxhOxqmdNsLza5bZOCPR3qrqV_k3ePh07nt8ezuV]--></g></svg>