## 分支定界算法用例：旅行推销员问题问题 (TSP)  
### 问题描述

**Q:** 假设有一个旅行商人要拜访 n 个城市，他必须选择所要走的路径，路径的限制是每个城市只能拜访一次，而且最后要回到原来出发的城市。路径的选择目标是要求得的路径路程为所有路径之中的最小值。

旅行推销员问题问题 (Travelling salesman problem) ，简称 TSP。该问题可以被证明具有 NPC 计算复杂性。因此，任何能使该问题的求解得以简化的方法，都将受到高度的评价和关注。

> NPC (nondeterministic polynomial-time complete) ，翻译过来为`多项式非确定性时间完备`，简称 `NP 完全` 或 `NP 完备` 是计算复杂度理论中，决定性问题的等级之一。

### 建模

该问题可以采用`图论`去建模，它的等价形式：给定一个`加权完全图` (顶点表示城市、边表示道路、权重就是穿行道路的成本或距离) ，求一权重最小的`哈密尔顿回路` (Hamilton) 。

下面是通过图建立的 TSP 问题模型：

<img src='create_model.svg' />

### 求解方法

 `爆破搜索法`：最为直接的方式尝试所有的`排列`方式，它的运行时间取决于阶乘 $O(n!)$ 的 $n$ 的大小。 ($n + 1$) 表示城市数目，当城市到达 20 个的时候，这种解决方法是不可接受的。

 `Held–Karp algorithm` ：使用`动态规划`最早的一种算法，它解决该问题的的时间在 $O(n^{2}2^{n})$ 之内。在动态规划方法之前使用`容斥` (Exclusion-Inclusion ) 确定运算界限。

 `分支定界法`：通过把问题分解为状态空间树，通过分支和定界来处理问题。

### 分支定界算法

分支定界把问题拆解一个`状态空间树` (state space tree) ，然后遍历树来查找解。

这种方法将一个要解决的问题分解为几个子问题。它是一个解决一系列子问题的系统，每个子问题可能有几个可能的解决方案，其中为一个问题选择的解决方案可能会影响后续子问题的可能解决方案。

要使用 Branch and Bound 方法求解 TSP，您必须选择一个起始节点，然后将 bound 设置为一个非常大的值 (假设为无穷大) 。选择未访问节点和当前节点之间最便宜的拱门，然后将距离添加到当前距离。

当当前距离小于界限时重复该过程。如果当前距离小于界限，你就完成了。您现在可以将距离相加，使边界等于当前距离。重复这个过程，直到所有的弧都被覆盖。
